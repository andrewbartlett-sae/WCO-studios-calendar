:root {
  color-scheme: dark;
  --bg: #000;
  --panel: #1e1e1e;
  --text: #eee;
  --eventText: #111;
  --muted: #888;
  --border: #555;
  --available: #2a2a2a;
  --reservation: #0352ad;
  --checkout: #4caf50;
  --booked: #444;
  --late-text: #FAA;
  --defaultSize: 12px;
}

html, body {
  forced-color-adjust: none;
}

/* General Layout */
body {
  margin: 1px;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial,"Noto Sans", "Liberation Sans", sans-serif;
  font-size: var(--defaultSize);
  color: var(--text);
  background-color: var(--bg);
  background-size: cover;
}

#calendarHeader {
  text-align: center;
  margin: 10px 0 5px;
}

.calendarHeader {
  text-align: center;
  margin: 10px 0 5px;
}

#calendarVersion {
  color: var(--muted);
  font-size: 10px;
  text-align: center;
  margin: 0 0 20px;
}

#calendarNav {
  text-align: center;
  margin: 10px 0;
}

#calendarNav button,
.calendarNavDup button {
  background: var(--panel);
  color: var(--text);
  border: 1px solid var(--border);
  margin: 20px 20px 0 0;
  cursor: pointer;
  padding: 12px 12px;
  border-radius: 16px;
}

#calendarNav button:hover,
.calendarNavDup button:hover {
  filter: brightness(1.2);
}

/* ðŸ”§ Fixed date input styling */
#calendarNav input[type="date"],
.calendarNavDup input[type="date"] {
  background: var(--panel);
  color: var(--text);
  border: 1px solid var(--border);
  padding: 8px 12px;
  border-radius: 16px;
  margin: 0 20px 0 0;
  cursor: pointer;

  /* Fix Safari/iOS dark mode */
  -webkit-text-fill-color: var(--text);
  caret-color: var(--text);
}

/* Hover/focus */
#calendarNav input[type="date"]:hover,
#calendarNav input[type="date"]:focus,
.calendarNavDup input[type="date"]:hover,
.calendarNavDup input[type="date"]:focus {
  filter: brightness(1.2);
  outline: none;
}

/* Calendar icon (visible in dark mode) */
#calendarNav input[type="date"]::-webkit-calendar-picker-indicator,
.calendarNavDup input[type="date"]::-webkit-calendar-picker-indicator {
  filter: invert(1);
  cursor: pointer;
}

/* Keep day navigation buttons together */
.dayNavGroup {
  display: flex;
  flex-wrap: nowrap;
  justify-content: center;
  gap: 12px; /* space between buttons */
}

/* Table */
.calendarTable + .calendarTable {
  margin-top: 48px !important;
}
.calendarTable tr:last-child > td,
tr:last-child > th {
  border-bottom: 0;
}
.calendarTable {
  width: 100%;
  table-layout: fixed;
  border-spacing: 1;
}
.calendarTable th,
.calendarTable td {
  border: 1px solid var(--border);
  text-align: center;
  vertical-align: middle;
  font-weight: bold;
  font-family: inherit;
  border: 0;
  padding: 0;
}
.calendarTable th {
  color: #ffffff;
  background-color: #267a7a;
  padding: 5px 0;
  height: 2.6em;
  line-height: 1.2em;
  white-space: normal;
  text-align: center;
  vertical-align: middle;
}
.calendarTable td.timeCell {
  background-color: var(--panel);
}
.calendarTable td.timeCell.currentTimeCell {
  animation: orangeGlowerSmall 5s ease-in-out infinite;
}

/* Availability states */
.calendarTable td.cell.available { background-color: var(--available); }
.calendarTable td.unavailable,
.calendarTable td.unavailableLarge {
  background-color: #222;
  color: #bbb;
  font-style: italic;
  text-align: center;
}
.calendarTable td.unavailableLarge { font-size: large; }
.calendarTable td.cell.reservation {
  color: var(--eventText);
  text-shadow: 0 -1px 1px rgba(0,0,0,0.4),
               0 1px 1px rgba(255,255,255,0.5);
  border: none;
  box-shadow: inset 0 -1px 1px rgba(0,0,0,0.9),
              inset 0 1px 0 rgba(255,255,255,0.4);
  border-radius: 6px;
  background: linear-gradient(to bottom,
    #70b6f2 0%, #54a3ee 50%, #3690f0 50%, #1a62db 100%);
}
.calendarTable td.cell.checkout {
  color: var(--eventText);
  border: none;
  box-shadow: inset 0 -1px 1px rgba(0,0,0,0.9),
              inset 0 1px 0 rgba(255,255,255,0.4);
  border-radius: 6px;
  background: linear-gradient(to bottom,
    #daffbc 0%, #7fd33a 50%, #69b926 52%, #b7ff7d 100%);
}
.calendarTable td.cell.booked {
  background-color: var(--booked);
  color: var(--text);
}
.calendarTable td.cell.late {
  border: none;
  border-radius:6px;
  background: linear-gradient(to bottom,
    #fd8f9b 0%, #f55 50%, #f60000 50%, #ffa7b0 100%);
}

/* Loading cell */
.calendarTable td.loading {
  color: var(--text);
  text-align: center;
  padding: 40px 0;
  font-weight: bold;
  font-size: 2em;
  letter-spacing: 2px;
}

.calendarTable th:first-child,
.calendarTable td.timeCell {
  width: 80px;
  min-width: 80px;
  max-width: 80px;
  white-space: nowrap;
}

/* Progress bar */
#progressContainer {
  width: 100%;
  height: 20px;
  margin: 10px 0;
  border-radius: 4px;
  overflow: hidden;
  box-sizing: border-box;
  background: transparent;
  transition: background .3s, opacity .5s;
  opacity: 0;
}
#progressContainer.loading { background:#eee; opacity:1; }
#progressBar {
  height: 100%;
  width: 0%;
  background: linear-gradient(to right,#FA0,#4caf50);
  transition: width .3s linear;
  box-shadow:0 0 5px rgba(0,0,0,.2);
}
#progressContainer.loading #progressBar { display:block; }

/* Neon/Glow effects */
.neonOrange {
  color:#fff;
  text-shadow:0 0 5px #FA0,0 0 10px #FA0,0 0 20px #FA0,
              0 0 40px #850,0 0 80px #850,0 0 90px #850,
              0 0 100px #850,0 0 150px #850;
}
.orangeGlow { animation: orangeGlower 12s ease-in-out infinite; }
@keyframes orangeGlower {
  0%,100% {
    color:#fff;
    text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 20px #fff,
                0 0 40px #FA0,0 0 80px #FA0,0 0 90px #FA0,
                0 0 100px #FA0,0 0 150px #FA0;
  }
  50% {
    color:#fff;
    text-shadow:0 0 5px #FA0,0 0 10px #FA0,0 0 20px #FA0,
                0 0 40px #850,0 0 80px #850,0 0 90px #850,
                0 0 100px #850,0 0 150px #850;
  }
}
.orangeGlowSmall { animation: orangeGlowerSmall 5s ease-in-out infinite; }
@keyframes orangeGlowerSmall {
  0%,100% {
    color:#fff;
    text-shadow:0 0 5px #fff,0 0 10px #fff,0 0 20px #fff,
                0 0 40px #FA0,0 0 80px #FA0,0 0 90px #FA0,
                0 0 100px #FA0,0 0 150px #FA0;
  }
  50% {
    color:#fff;
    text-shadow:0 0 5px #FA0,0 0 10px #FA0,0 0 20px #FA0,
                0 0 40px #FA0,0 0 80px #FA0,0 0 90px #FA0,
                0 0 100px #FA0,0 0 150px #FA0;
  }
}

/* Gloss styles (left unchanged except for formatting) */
.blueGloss {
  text-shadow: 0 -1px 1px rgba(0,0,0,0.4), 0 1px 1px rgba(255,255,255,0.5);
  border:none;
  box-shadow: inset 0 -1px 1px rgba(0,0,0,0.9),
              inset 0 1px 0 rgba(255,255,255,0.4);
  border-radius: 6px;
  background: linear-gradient(to bottom,#70b6f2 0%,#54a3ee 50%,#3690f0 50%,#1a62db 100%);
}
.greenGloss {
  text-shadow: 0 -1px 1px rgba(0,0,0,0.4),0 1px 1px rgba(255,255,255,0.5);
  border:none;
  box-shadow: inset 0 -1px 1px rgba(0,0,0,0.9),
              inset 0 1px 0 rgba(255,255,255,0.4);
  border-radius: 6px;
  background: linear-gradient(to bottom,#daffbc 0%,#7fd33a 50%,#69b926 52%,#b7ff7d 100%);
}
.tealGloss {
  border:none;
  border-radius:6px;
  background: linear-gradient(to bottom,#c2d9df 0%,#69a7a4 48%,#006662 52%,#03b7ac 100%);
}
.greyGloss {
  background: linear-gradient(top,transparent,#333);
  color:#666;
}
